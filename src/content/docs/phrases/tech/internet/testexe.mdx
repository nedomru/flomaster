---
title: CMD / Test.exe / WinMTR
description: РМы для проведения диагностики с помощью терминала и прочих утилит
draft: false
sidebar:
    order: 6
    hidden: false
---

import {TabItem, Tabs} from "@astrojs/starlight/components";

### Запуск Test.exe

<Tabs>
    <TabItem label="Win" icon="seti:windows">
        ```txt "[ДОГОВОР]"
        Для точечной проверки сети пройдите по инструкции:
        1. С компьютера на Windows откройте страницу https://sos.dom.ru
        2. На сайте нажмите на кнопку "Скачать для Windows 8/10/11"
        3. После запуска программы необходимо нажать кнопку "Отключить стороннее ПО"

        Затем введите номер договора - [ДОГОВОР]
        и нажмите кнопку "Запустить диагностику"

        Напишите, пожалуйста, когда появится сообщение "Завершено!"
        ```
    </TabItem>

    <TabItem label="Linux" icon="linux">
        ```txt "[ДОГОВОР]"
        Для точечной проверки сети пройдите по инструкции:
        1. С компьютера на Linux откройте страницу https://sos.dom.ru
        2. На сайте нажмите на кнопку "Скачать для Linux"
        3. Запустите программу по инструкции:
        - Инструкция для запуска с интерфейсом - https://sos.dom.ru/file-share/linux_gui.pdf
        - Инструкция для запуска через терминал - https://sos.dom.ru/file-share/linux_terminal.pdf

        Когда программа запросит номер договора - введите [ДОГОВОР]
        По завершении скрипта напишите в чат
        ```
    </TabItem>
</Tabs>

### Пинг ресурсов

#### С ПК

<Tabs>
    <TabItem label="Win" icon="seti:windows">
        ```txt "[IP АДРЕС]"
        Для проверки отклика до ресурса пройдите по инструкции:
        1. Нажмите комбинацию Win+r на клавиатуре компьютера
        2. Введите cmd и нажмите "OK"
        3. В открывшемся окне введите "ping -n 30 -l 1200 [IP АДРЕС]" без кавычек и нажмите Enter

        Когда диагностика завершится - в самом низу окна появится результат
        Пришлите результат текстом или фотографией
        ```
    </TabItem>

    <TabItem label="Linux" icon="linux">
        ```txt "[IP АДРЕС]"
        Для проверки отклика до ресурса пройдите по инструкции:
        1. Откройте Терминал на компьютере
        2. В открывшемся окне введите "ping -c 30 -s 1200 [IP АДРЕС]" без кавычек и нажмите Enter

        Когда диагностика завершится - в самом низу окна появится результат
        Пришлите результат текстом или фотографией
        ```
    </TabItem>

    <TabItem label="Mac" icon="apple">
        ```txt "[IP АДРЕС]"
        Для проверки отклика до ресурса пройдите по инструкции:
        1. Откройте Терминал на компьютере
        2. В открывшемся окне введите "ping -c 30 -s 1200 [IP АДРЕС]" без кавычек и нажмите Enter

        Когда диагностика завершится - в самом низу окна появится результат
        Пришлите результат текстом или фотографией
        ```
    </TabItem>
</Tabs>

#### С телефона

<Tabs>
    <TabItem label="Android" icon="linux">
        ```txt "[IP АДРЕС]"
        Для проверки отклика до ресурса пройдите по инструкции:
        1. С телефона на Android зайдите в Google Play и установите приложение "PingTools"
        2. В этом приложении нажмите на три полоски вверху, далее выберите пункт "Ping"
        3. Нажмите на три точки сверху, выберите "Настройки"
        4. Укажите параметры:
        - Размер пакета - 1200
        - Кол-во пингов - 30
        Нажмите сохранить
        5. Сверху измените текст "ya.ru" на [IP АДРЕС] и нажмите кнопку "Ping"

        Когда диагностика завершится - в самом низу страницы появится результат
        Пришлите скриншот результата в чат
        ```
    </TabItem>

    <TabItem label="iOS" icon="apple">
        ```txt "[IP АДРЕС]"
        Для проверки отклика до ресурса пройдите по инструкции:
        1. С телефона на iOS зайдите в App Store и установите приложение "Network Utilities & Analyzer"
        2. В этом приложении откройте раздел "Ping"
        3. Нажмите на шестеренку сверху, укажите параметры:
        - Payload Size (bytes) - 1 200
        - Number of Requests - 30
        4. В поле для ввода сверху введите [IP АДРЕС] и подтвердите

        Когда диагностика завершится - в самом низу страницы появится результат
        Пришлите скриншот результата в чат
        ```
    </TabItem>
</Tabs>

### Трассировка ресурсов

#### С ПК

##### Через консоль

<Tabs>
    <TabItem label="Win" icon="seti:windows">
        ```txt "[IP АДРЕС]"
        Для проверки маршрута до сервера пройдите по инструкции:
        1. Нажмите комбинацию Win+r на клавиатуре компьютера
        2. Введите cmd и нажмите "OK"
        3. В открывшемся окне введите "tracert [IP АДРЕС]" без кавычек и нажмите Enter

        Когда вывод прекратится - пришлите результат в чат
        ```
    </TabItem>

    <TabItem label="Linux" icon="linux">
        ```txt "[IP АДРЕС]"
        Для проверки маршрута до сервера пройдите по инструкции:
        1. Откройте Терминал на компьютере
        2. В открывшемся окне введите "traceroute -d [IP АДРЕС]" без кавычек и нажмите Enter

        Когда вывод прекратится - пришлите результат в чат
        ```
    </TabItem>

    <TabItem label="Mac" icon="apple">
        ```txt "[IP АДРЕС]"
        Для проверки маршрута до сервера пройдите по инструкции:
        1. Откройте Терминал на компьютере
        2. В открывшемся окне введите "traceroute -d [IP АДРЕС]" без кавычек и нажмите Enter

        Когда вывод прекратится - пришлите результат в чат
        ```
    </TabItem>
</Tabs>

##### Через WinMTR

<Tabs>
    <TabItem label="Win" icon="seti:windows">
        ```txt
        Для проверки маршрута до сервера пройдите по инструкции:
        1. На компьютере загрузите приложение WinMTR - https://sos.dom.ru/public/WinMTR/WinMTRx64.exe
        2. В поле Host укажите адрес сервера и нажмите кнопку "Start"

        Программу держите запущенной в течение 20-30 минут, далее нажмите кнопку "Stop", сделайте скриншот окна программы и пришлите его в чат
        Во время теста важно выполнять те же действия, при которых возникали ранее сложности
        ```
    </TabItem>

    <TabItem label="Linux" icon="linux">
        ```txt "[IP АДРЕС]"
        Для проверки маршрута до сервера пройдите по инструкции:
        1. Откройте Терминал на компьютере
        2. Установите пакет mtr для вашего дистрибутива
        3. Введите команду "mtr [IP АДРЕС]"

        Программу держите запущенной в течение 20-30 минут, далее сделайте скриншот окна программы и пришлите его в чат
        Во время теста важно выполнять те же действия, при которых возникали ранее сложности
        ```
    </TabItem>

    <TabItem label="Mac" icon="apple">
        ```txt "[IP АДРЕС]"
        Для проверки маршрута до сервера пройдите по инструкции:
        1. Откройте Терминал на компьютере
        2. В открывшемся окне введите "brew install mtr" без кавычек и нажмите Enter
        3. Когда вывод завершится - введите в том же окне "mtr [IP АДРЕС]"

        Программу держите запущенной в течение 20-30 минут, далее сделайте скриншот окна программы и пришлите его в чат
        Во время теста важно выполнять те же действия, при которых возникали ранее сложности
        ```
    </TabItem>
</Tabs>

#### С телефона

<Tabs>
    <TabItem label="Android" icon="linux">
        ```txt "[IP АДРЕС]"
        Для проверки маршрута до сервера пройдите по инструкции:
        1. С телефона на Android зайдите в Google Play и установите приложение "PingTools"
        2. В этом приложении нажмите на три полоски вверху, далее выберите пункт Traceroute
        3. Нажмите на три точки сверху, выберите "Настройки"
        4. Пункт "Режим: UDP" измените на "Режим: ICMP", нажмите "Сохранить"
        5. Далее сверху измените текст "ya.ru" на [IP АДРЕС] и нажмите кнопку "Trace"

        Когда диагностика завершится - в самом низу страницы появится результат
        Пришлите скриншот результата в чат
        ```
    </TabItem>

    <TabItem label="iOS" icon="apple">
        ```txt "[IP АДРЕС]"
        Для проверки маршрута до сервера пройдите по инструкции:
        1. С телефона на iOS зайдите в App Store и установите приложение "Network Utilities & Analyzer"
        2. В этом приложении откройте раздел "Trace Route"
        3. В поле для ввода сверху введите [IP АДРЕС] и подтвердите

        Когда диагностика завершится - в самом низу страницы появится результат
        Пришлите скриншот результата в чат
        ```
    </TabItem>
</Tabs>

### Уточнение IP-адреса ресурса

```txt
Подскажите, вы знаете IP-адрес ресурса, с которым возникает сложность?
Если нет - в таком случае лучше запросить его у администраторов ресурса, либо самостоятельно уточнить его на тематических форумах
```

### Результаты трассировки

#### Высокий пинг не в нашей зоне

```txt "[НОМЕРА УЗЛОВ]"
На текущий момент, судя по результату теста, в нашей зоне ответственности отклик в норме
Самостоятельно проверить отклик вы можете посмотрев на узлы [НОМЕРА УЗЛОВ]

Для решения вопроса рекомендуем обратиться в поддержку ресурса. Если от нас потребуется дополнительная информация - можете написать нам, с радостью поможем!
```

#### Низкий приоритет пакетов ICMP / Потеря пакетов не доходя до конца

```txt
До некоторых маршрутизаторов операторов связи и магистральных провайдеров время отклика может быть выше, чем до конечного узла
Точно также в трассировке могут быть потери пакетов до этих узлов, но не будет потерь пакетов до конечного узла
Это связано с тем, что на некоторых маршрутизаторах настроен низкий приоритет или вовсе отключен ответ на ICMP-запросы во избежание DDOS-атак

Для проверки, есть ли у вас потери до интересующего узла, необходимо выполнить команду ping
```

### Проверка сетевых адаптеров
<Tabs>
    <TabItem label="Сетевые подключения">
        ```
        Проверим сетевые адаптеры:
        1. Нажмите комбинацию клавиш WIN+R, откроется окно "Выполнить"
        2. Введите в него "NCPA.CPL" и нажмите "ОК"

        После этого пришлите фото открывшегося окна
        ```
    </TabItem>
    <TabItem label="Диспетчер устройств">
        ```
        Проверим сетевые адаптеры:
        1. Нажмите комбинацию клавиш WIN+R, откроется окно "Выполнить"
        2. Введите в него "devmgmt.msc" и нажмите "ОК"
        3. В открывшемся окне найдите пункт "Сетевые адаптеры" и разверните его

        После этого пришлите фото этого окна
        ```
    </TabItem>
</Tabs>

### Проверка диспетчера устройств

```
Проверим сетевые адаптеры:
Нажмите комбинацию клавиш WIN+R, откроется окно "Выполнить"
Введите в него "NCPA.CPL" и нажмите "Ок"

После этого пришлите фото открывшегося окна
```

### Сетевые метрики устройства

```txt
Проверим сетевые метрики:
Нажмите комбинацию клавиш WIN+R, введите в открывшемся окне "cmd" без кавычек и нажмите Enter
Откроется черное окно, в нем введите команду "ipconfig /all" без кавычек и нажмите клавишу Enter

По окончании выполнения команды разверните на полный экран черное окно и пришлите фото результатов
```

### Очистка кеша DNS

<Tabs>
    <TabItem label="Win" icon="seti:windows">
    ```
    Давайте очистим кеш DNS, выполните инструкцию:
    1. Нажмите комбинацию Win+r на клавиатуре компьютера
    2. Введите cmd и нажмите "OK"
    3. В открывшемся окне введите поочередно:
    ipconfig /flushdns
    ipconfig /release
    ipconfig /renew

    После выполнения всех команд перезагрузите компьютер
    ```
    </TabItem>

     <TabItem label="Linux" icon="linux">
    ```
    Давайте очистим кеш DNS, выполните инструкцию:
    1. Нажмите комбинацию Ctrl + Alt + T на клавиатуре компьютера
    2. В открывшемся окне введите команду "sudo resolvectl flush-caches" без кавычек и нажмите Enter
    3. Терминал может запросить пароль администратора. Введите свой пароль и нажмите Enter

    После выполнения команды перезагрузите компьютер
    ```
    </TabItem>

     <TabItem label="Mac" icon="apple">
    ```
    Давайте очистим кеш DNS, выполните инструкцию:
    1. Откройте Терминал
    2. Введите команду "sudo dscacheutil -flushcache" без кавычек и нажмите Enter
    3. Терминал запросит пароль администратора. Введите свой пароль и нажмите Enter
    4. По аналогии выполните команду "sudo killall -HUP mDNSResponder"

    После выполнения всех команд перезагрузите компьютер
    ```
    </TabItem>
</Tabs>
